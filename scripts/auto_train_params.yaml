# For full list of config parameters, refer to https://docs.deepcognition.ai/dcv2.0/docs/auto-train-parameters

input:
  project_id: 42201
  use_cache: true

model:
  task_type: "Object detection"
  arch_type: "DINO"
  model_source: "Pretrained models"
  model_name: "dino-5scale_swin-l_8xb2-12e_coco.py"
  train_mode: "finetune"

hyperparameters:
  general:
    n_epochs: 20
    input_image_size: [1000, 600]
    train_batch_size: 2
    val_batch_size: 1
    val_interval: 1
    chart_interval: 1

  checkpoint:
    checkpoint_interval: 1
    keep_checkpoints: true
    max_keep_checkpoints: 3
    save_last_checkpoint: true
    save_best_checkpoint: true
    save_optimizer_state: false

  optimizer:
    override_frozen_stages: false
    type: "AdamW"
    lr: 0.0001
    weight_decay: 0.0001
    use_clip_grad_norm: true
    clip_grad_norm: 0.1

  lr_scheduler:
    scheduler: "empty"
    use_warmup: true
    warmup_iters: 1
    warmup_ratio: 0.001
    by_epoch: true

  evaluation:
    model_evaluation_bm: true
